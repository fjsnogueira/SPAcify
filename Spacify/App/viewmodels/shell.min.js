define(["require","exports","durandal/app","durandal/plugins/router","models/routeGroup","models/modelBuilder","services/entityManagerProvider","services/errorHandler","services/account"],function(n,t,i,r,u,f,e,o,s){function b(n){t.router.navigateTo(n.hash)}function k(){return a.includeIn(this),l.prepare().then(it).fail(function(n){return n.status===401?rt():(a.handleError(n),!1)})}function d(){h+=.1,$("#zoomArea").css({zoom:h,"-moz-transform":"scale("+h+")"})}function g(){h-=.1,$("#zoomArea").css({zoom:h,"-moz-transform":"scale("+h+")"})}function nt(){v.showMessage("Search not implemented...","Search")}function tt(){w.logoutUser(),window.location.href="/"}function it(){t.routes([new c.RouteGroup("Home",[{url:"home",name:"Home",visible:!0,settings:{admin:!1}},]),new c.RouteGroup("Details",[{url:"details",name:"Details",visible:!0,settings:{admin:!1}},]),]);var n=[];return t.routes().forEach(function(t){return t.routes.forEach(function(t){return n.push(t)})}),t.router.map(n),toastr.info("SPA Template Loaded!"),t.router.activate("home")}function rt(){return t.router.mapNav("login"),t.router.activate("login")}var v=i,y=r,c=u,p=f,l=e,a=o,w=s,h;l.modelBuilder=p.extendMetadata,t.router=y,t.routes=ko.observableArray(),t.navigateTo=b,t.activate=k,h=1,t.zoomIn=d,t.zoomOut=g,t.search=nt,t.logout=tt})