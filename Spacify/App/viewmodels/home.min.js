var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","viewmodels/viewModelBase","services/unitOfWork"],function(n,t,i,r){function o(n){return t.viewModel().activate(n)}var f=i,e=r,u;t.activate=o,u=function(n){function t(){var t=this;n.call(this),this.title=ko.observable("Home view"),this.uow=e.create(),this.blogs=ko.observableArray(),this.uow.blogs.all().then(function(n){t.blogs(n)})}return __extends(t,n),t.prototype.activate=function(t){return n.prototype.activate.call(this,t)},t.prototype.refresh=function(){var n=this;this.uow.blogs.all().then(function(t){n.blogs(t)})},t.prototype.addNew=function(){var n=this,t=this.uow.blogs.add({name:"Added blog"},breeze.EntityState.Detached);this.uow.blogs.createBlog(t).then(function(){return n.refresh()}).fail(toastr.error)},t.prototype.remove=function(n){this.uow.blogs.remove(n),this.uow.commit().then(this.refresh).fail(toastr.error)},t}(f.ViewModelBase),t.viewModel=ko.observable(new u)})