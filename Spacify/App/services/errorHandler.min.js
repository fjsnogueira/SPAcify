define(["require","exports","services/logger","durandal/system","services/utilities"],function(n,t,i,r,u){function h(n){return $.extend(n,new s(n))}function c(n){n.message.match(/validation error/i)&&(n.message=o.getSaveValidationErrorMessage(n)),f.logError(n.message,null,e.getModuleId(this.targetObject),!0);throw n;}var f=i,e=r,o=u,s=function(){function n(n){this.targetObject=n}return n.prototype.handleError=function(n){n.message.match(/validation error/i)&&(n.message=o.getSaveValidationErrorMessage(n)),f.logError(n.message,null,e.getModuleId(this.targetObject),!0);throw n;},n.prototype.log=function(n,t){f.log(n,null,e.getModuleId(this.targetObject),t)},n}();t.ErrorHandler=s,t.includeIn=h,t.handleError=c})